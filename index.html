<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login ‚Ä¢ Tailwind</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Tailwind config (optional: enable dark mode class strategy)
    tailwind.config = { darkMode: 'class' };
  </script>
</head>
<body class="h-full bg-gray-100 dark:bg-gray-950 text-gray-900 dark:text-gray-100">
  <div class="min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-md">
      <!-- Top bar: brand + theme toggle + language -->
      <div class="flex items-center justify-between mb-4">
        <div class="flex items-center gap-2">
          <div class="h-9 w-9 rounded-xl bg-gradient-to-tr from-blue-600 to-indigo-500 shadow ring-2 ring-white/20 dark:ring-black/20"></div>
          <span class="font-semibold">YourBrand</span>
        </div>
        <div class="flex items-center gap-2">
          <select id="lang" class="text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-800 rounded-md px-2 py-1">
            <option>English</option>
            <option>ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
            <option>–†—É—Å—Å–∫–∏–π</option>
          </select>
          <button id="themeBtn" type="button" class="text-sm px-3 py-1.5 rounded-md border border-gray-300 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900" aria-pressed="false">
            üåô Dark
          </button>
        </div>
      </div>

      <!-- Card -->
      <div class="bg-white dark:bg-gray-900 rounded-2xl shadow-lg ring-1 ring-black/5 dark:ring-white/5 p-6 md:p-8">
        <h1 class="text-2xl font-bold text-center">Welcome back</h1>
        <p class="text-center text-gray-500 dark:text-gray-400 mt-1">Sign in to your account</p>

        <!-- Tabs -->
        <div class="mt-6 grid grid-cols-2 text-sm rounded-lg overflow-hidden border border-gray-200 dark:border-gray-800">
          <button id="tab-password" class="tab-btn px-3 py-2 font-medium bg-gray-100 dark:bg-gray-800">Email & Password</button>
          <button id="tab-magic" class="tab-btn px-3 py-2 font-medium">Magic Link</button>
        </div>

        <!-- Form: Email & Password -->
        <form id="form-password" class="mt-6 space-y-4" novalidate>
          <div>
            <label for="email" class="block text-sm font-medium">Email</label>
            <input id="email" name="email" type="email" autocomplete="email" placeholder="you@example.com" required
              class="mt-1 block w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-950 border border-gray-300 dark:border-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/>
            <p id="emailError" class="mt-1 text-xs text-red-600 hidden" role="alert">Please enter a valid email.</p>
          </div>

          <div>
            <label for="password" class="block text-sm font-medium">Password</label>
            <div class="relative">
              <input id="password" name="password" type="password" autocomplete="current-password" minlength="8" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required
                class="mt-1 block w-full px-4 py-3 pr-12 rounded-lg bg-white dark:bg-gray-950 border border-gray-300 dark:border-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/>
              <button type="button" id="togglePwd" class="absolute inset-y-0 right-0 px-3 grid place-items-center text-gray-500 hover:text-gray-700 dark:hover:text-gray-200" aria-label="Show password">üëÅÔ∏è</button>
            </div>
            <!-- Strength meter -->
            <div class="mt-2">
              <div class="h-1 w-full bg-gray-200 dark:bg-gray-800 rounded">
                <div id="strengthBar" class="h-1 w-1/12 bg-red-500 rounded transition-all"></div>
              </div>
              <p id="strengthLabel" class="mt-1 text-xs text-gray-500">Strength: weak</p>
            </div>
            <p id="passwordError" class="mt-1 text-xs text-red-600 hidden" role="alert">Minimum 8 characters.</p>
          </div>

          <div class="flex items-center justify-between text-sm">
            <label class="flex items-center gap-2">
              <input id="remember" type="checkbox" class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
              <span class="text-gray-600 dark:text-gray-300">Remember me</span>
            </label>
            <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline">Forgot password?</a>
          </div>

          <button id="submitBtn" type="submit" class="w-full inline-flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold transition">
            <svg id="spinner" class="hidden animate-spin h-5 w-5" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
            </svg>
            <span>Sign In</span>
          </button>

          <!-- Mock reCAPTCHA placeholder -->
          <div class="text-[11px] text-center text-gray-500">This site is protected by reCAPTCHA (placeholder).</div>

          <div aria-live="polite" class="sr-only" id="status"></div>
        </form>

        <!-- Form: Magic Link -->
        <form id="form-magic" class="mt-6 space-y-4 hidden" novalidate>
          <div>
            <label for="magicEmail" class="block text-sm font-medium">Email</label>
            <input id="magicEmail" type="email" required placeholder="you@example.com" class="mt-1 block w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-950 border border-gray-300 dark:border-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/>
            <p id="magicEmailError" class="mt-1 text-xs text-red-600 hidden">Please enter a valid email.</p>
          </div>
          <button id="sendLinkBtn" type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-lg font-semibold">Send Magic Link</button>
        </form>

        <!-- Divider -->
        <div class="my-6 flex items-center">
          <div class="flex-grow h-px bg-gray-200 dark:bg-gray-800"></div>
          <span class="px-4 text-gray-400 text-sm">or</span>
          <div class="flex-grow h-px bg-gray-200 dark:bg-gray-800"></div>
        </div>

        <!-- Social Login -->
        <div class="grid grid-cols-3 gap-3">
          <button class="border border-gray-300 dark:border-gray-800 py-2.5 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-900">Google</button>
          <button class="border border-gray-300 dark:border-gray-800 py-2.5 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-900">Facebook</button>
          <button class="border border-gray-300 dark:border-gray-800 py-2.5 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-900">Apple</button>
        </div>

        <!-- Sign up link -->
        <p class="text-center text-sm text-gray-600 dark:text-gray-400 mt-6">
          New here?
          <a href="#" class="text-blue-600 dark:text-blue-400 font-medium hover:underline">Create an account</a>
        </p>

        <!-- Legal -->
        <p class="mt-4 text-[11px] text-center text-gray-500">By continuing, you agree to our <a href="#" class="underline">Terms</a> and <a href="#" class="underline">Privacy Policy</a>.</p>
      </div>

      <!-- Footer -->
      <p class="mt-4 text-center text-xs text-gray-500">¬© <span id="year"></span> YourBrand. All rights reserved.</p>
    </div>
  </div>

  <script>
    // Theme toggle
    const themeBtn = document.getElementById('themeBtn');
    const root = document.documentElement;
    const saved = localStorage.getItem('theme');
    if (saved === 'dark') root.classList.add('dark');
    themeBtn.addEventListener('click', () => {
      const isDark = root.classList.toggle('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      themeBtn.setAttribute('aria-pressed', String(isDark));
      themeBtn.textContent = isDark ? '‚òÄÔ∏è Light' : 'üåô Dark';
    });

    // Tabs
    const tabPassword = document.getElementById('tab-password');
    const tabMagic = document.getElementById('tab-magic');
    const formPassword = document.getElementById('form-password');
    const formMagic = document.getElementById('form-magic');
    function activateTab(which){
      if(which==='password'){
        tabPassword.classList.add('bg-gray-100','dark:bg-gray-800');
        tabMagic.classList.remove('bg-gray-100','dark:bg-gray-800');
        formPassword.classList.remove('hidden');
        formMagic.classList.add('hidden');
      } else {
        tabMagic.classList.add('bg-gray-100','dark:bg-gray-800');
        tabPassword.classList.remove('bg-gray-100','dark:bg-gray-800');
        formMagic.classList.remove('hidden');
        formPassword.classList.add('hidden');
      }
    }
    tabPassword.addEventListener('click', ()=>activateTab('password'));
    tabMagic.addEventListener('click', ()=>activateTab('magic'));

    // Password visibility toggle
    const pwd = document.getElementById('password');
    const togglePwd = document.getElementById('togglePwd');
    togglePwd.addEventListener('click', ()=>{
      const type = pwd.getAttribute('type') === 'password' ? 'text' : 'password';
      pwd.setAttribute('type', type);
      togglePwd.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üôà';
    });

    // Strength meter (simple heuristic, avoid backslash regex in replacement)
    const strengthBar = document.getElementById('strengthBar');
    const strengthLabel = document.getElementById('strengthLabel');
    function scorePassword(val){
      let score = 0;
      if(!val) return 0;
      const hasLower = /[a-z]/.test(val);
      const hasUpper = /[A-Z]/.test(val);
      const hasDigit = /[0-9]/.test(val);
      const hasSymbol = /[^A-Za-z0-9 ]/.test(val);
      [hasLower,hasUpper,hasDigit,hasSymbol].forEach(ok=>{ if(ok) score += 1; });
      score += Math.min(4, Math.floor(val.length/3));
      return Math.min(8, score);
    }
    function renderStrength(score){
      const widths = ['1/12','2/12','3/12','4/12','6/12','8/12','10/12','12/12'];
      strengthBar.className = 'h-1 rounded transition-all';
      strengthBar.classList.add(`w-${widths[score-1]||'1/12'}`);
      let color = 'bg-red-500';
      if(score>=3) color='bg-orange-500';
      if(score>=5) color='bg-yellow-500';
      if(score>=7) color='bg-green-500';
      strengthBar.classList.add(color);
      const labels=['weak','weak','okay','okay','good','good','strong','strong'];
      strengthLabel.textContent = `Strength: ${labels[score-1]||'weak'}`;
    }
    pwd.addEventListener('input', ()=>{
      renderStrength(scorePassword(pwd.value));
    });

    // Validation + loading mock
    const form = document.getElementById('form-password');
    const email = document.getElementById('email');
    const emailError = document.getElementById('emailError');
    const passwordError = document.getElementById('passwordError');
    const submitBtn = document.getElementById('submitBtn');
    const spinner = document.getElementById('spinner');
    const status = document.getElementById('status');

    function show(el){ el.classList.remove('hidden'); }
    function hide(el){ el.classList.add('hidden'); }

    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      let ok = true;
      if(!email.checkValidity()) { show(emailError); ok=false; } else hide(emailError);
      if(!pwd.checkValidity()) { show(passwordError); ok=false; } else hide(passwordError);
      if(!ok) return;

      spinner.classList.remove('hidden');
      submitBtn.setAttribute('disabled','true');
      status.textContent = 'Signing in‚Ä¶';

      setTimeout(()=>{
        spinner.classList.add('hidden');
        submitBtn.removeAttribute('disabled');
        status.textContent = 'Signed in (demo). Replace with real API call.';
        alert('Signed in! (demo)');
      }, 1200);
    });

    // Magic link form
    const magicForm = document.getElementById('form-magic');
    const magicEmail = document.getElementById('magicEmail');
    const magicEmailError = document.getElementById('magicEmailError');
    magicForm.addEventListener('submit',(e)=>{
      e.preventDefault();
      if(!magicEmail.checkValidity()){ magicEmailError.classList.remove('hidden'); return; }
      magicEmailError.classList.add('hidden');
      alert('Magic link sent! (demo)');
    });

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
